<div
    class="chat-category-container"
    @dragover.prevent="handleDragOver"
    @dragleave.prevent="handleDragLeave"
    @drop.prevent="handleDrop"
    :class="{'empty-category': !groupChatObjects || groupChatObjects.length === 0 }"
>
    <h2>{{ chatCategoryName }}</h2>
    <p v-if="groupChatObjects.length === 0" class="empty-category-msg">No chats, drag something here!</p>
    <ul>
        <li 
            v-for="chat in groupChatObjects" 
            :key="chat?.value?.object?.channel"
            draggable="true"
            @dragstart="handleDragStart($event, chat)"
            @dragend="handleDragEnd"
            class="chat-item-enter"
        >
            <span class="grip-handle">⋮⋮⋮</span>
            <span class="chat-name">{{ chat?.value?.object?.name }}</span>
            <div class="chat-actions">
                <button 
                    @click="$emit('enter-chat', chat)"
                    :disabled="currentChatObject && currentChatObject.channel === chat?.value?.object?.channel"
                    title="Enter Chat"
                >
                    Enter
                </button>
                <button 
                    @click="$emit('leave-channel', chat)"
                    class="leave-btn inverted-btn"
                    title="Leave Channel"
                >
                    Leave
                </button>
            </div>
        </li>
    </ul>
</div> 